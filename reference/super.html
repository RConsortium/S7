<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="super(from, to) causes the dispatch for the next generic to use the method
for the superclass to instead of the actual class of from. It's needed
when you want to implement a method in terms of the implementation of its
superclass.
S3 &amp;amp; S4


super() performs a similar role to NextMethod() in S3 or
methods::callNextMethod() in S4, but is much more explicit:
The super class that super() will use is known when write super()
(i.e. statically) as opposed to when the generic is called
(i.e. dynamically).
All arguments to the generic are explicit; they are not automatically
passed along.


This makes super() more verbose, but substantially easier to
understand and reason about.

"><title>Force method dispatch to use a superclass — super • S7</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Force method dispatch to use a superclass — super"><meta property="og:description" content="super(from, to) causes the dispatch for the next generic to use the method
for the superclass to instead of the actual class of from. It's needed
when you want to implement a method in terms of the implementation of its
superclass.
S3 &amp;amp; S4


super() performs a similar role to NextMethod() in S3 or
methods::callNextMethod() in S4, but is much more explicit:
The super class that super() will use is known when write super()
(i.e. statically) as opposed to when the generic is called
(i.e. dynamically).
All arguments to the generic are explicit; they are not automatically
passed along.


This makes super() more verbose, but substantially easier to
understand and reason about.

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">S7</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/S7.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/generics-methods.html">Generics and methods</a>
    <a class="dropdown-item" href="../articles/classes-objects.html">Classes and objects</a>
    <a class="dropdown-item" href="../articles/compatibility.html">Compatibility</a>
    <a class="dropdown-item" href="../articles/packages.html">Using S7 in a package</a>
    <a class="dropdown-item" href="../articles/motivation.html">Motivation for S7</a>
    <a class="dropdown-item" href="../articles/performance.html">Performance</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rconsortium/S7/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Force method dispatch to use a superclass</h1>
      <small class="dont-index">Source: <a href="https://github.com/rconsortium/S7/blob/HEAD/R/super.R" class="external-link"><code>R/super.R</code></a></small>
      <div class="d-none name"><code>super.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>super(from, to)</code> causes the dispatch for the next generic to use the method
for the superclass <code>to</code> instead of the actual class of <code>from</code>. It's needed
when you want to implement a method in terms of the implementation of its
superclass.</p><div class="section">
<h3 id="s-amp-s-">S3 &amp; S4<a class="anchor" aria-label="anchor" href="#s-amp-s-"></a></h3>


<p><code>super()</code> performs a similar role to <code><a href="https://rdrr.io/r/base/UseMethod.html" class="external-link">NextMethod()</a></code> in S3 or
<code><a href="https://rdrr.io/r/methods/NextMethod.html" class="external-link">methods::callNextMethod()</a></code> in S4, but is much more explicit:</p><ul><li><p>The super class that <code>super()</code> will use is known when write <code>super()</code>
(i.e. statically) as opposed to when the generic is called
(i.e. dynamically).</p></li>
<li><p>All arguments to the generic are explicit; they are not automatically
passed along.</p></li>
</ul><p>This makes <code>super()</code> more verbose, but substantially easier to
understand and reason about.</p>
</div>

    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">super</span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>from</dt>
<dd><p>An S7 object to cast.</p></dd>


<dt>to</dt>
<dd><p>An S7 class specification, passed to <code><a href="as_class.html">as_class()</a></code>. Must be a
superclass of <code>object</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An <code>S7_super</code> object which should always be passed
immediately to a generic. It has no other special behavior.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">foo1</span> <span class="op">&lt;-</span> <span class="fu"><a href="new_class.html">new_class</a></span><span class="op">(</span><span class="st">"foo1"</span>, properties <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">class_numeric</span>, y <span class="op">=</span> <span class="va">class_numeric</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">foo2</span> <span class="op">&lt;-</span> <span class="fu"><a href="new_class.html">new_class</a></span><span class="op">(</span><span class="st">"foo2"</span>, <span class="va">foo1</span>, properties <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>z <span class="op">=</span> <span class="va">class_numeric</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">total</span> <span class="op">&lt;-</span> <span class="fu"><a href="new_generic.html">new_generic</a></span><span class="op">(</span><span class="st">"total"</span>, <span class="st">"x"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="method.html">method</a></span><span class="op">(</span><span class="va">total</span>, <span class="va">foo1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">@</span><span class="va">x</span> <span class="op">+</span> <span class="va">x</span><span class="op">@</span><span class="va">y</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This won't work because it'll be stuck in an infinite loop:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="method.html">method</a></span><span class="op">(</span><span class="va">total</span>, <span class="va">foo2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">total</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">+</span> <span class="va">x</span><span class="op">@</span><span class="va">z</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We could write</span></span></span>
<span class="r-in"><span><span class="fu"><a href="method.html">method</a></span><span class="op">(</span><span class="va">total</span>, <span class="va">foo2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">@</span><span class="va">x</span> <span class="op">+</span> <span class="va">x</span><span class="op">@</span><span class="va">y</span> <span class="op">+</span> <span class="va">x</span><span class="op">@</span><span class="va">z</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Overwriting method total(&lt;foo2&gt;)</span>
<span class="r-in"><span><span class="co"># but then we'd need to remember to update it if the implementation</span></span></span>
<span class="r-in"><span><span class="co"># for total(&lt;foo1&gt;) ever changed.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># So instead we use `super()` to call the method for the parent class:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="method.html">method</a></span><span class="op">(</span><span class="va">total</span>, <span class="va">foo2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">total</span><span class="op">(</span><span class="fu">super</span><span class="op">(</span><span class="va">x</span>, to <span class="op">=</span> <span class="va">foo1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="va">x</span><span class="op">@</span><span class="va">z</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Overwriting method total(&lt;foo2&gt;)</span>
<span class="r-in"><span><span class="fu">total</span><span class="op">(</span><span class="fu">foo2</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To see the difference between convert() and super() we need a</span></span></span>
<span class="r-in"><span><span class="co"># method that calls another generic</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">bar1</span> <span class="op">&lt;-</span> <span class="fu"><a href="new_generic.html">new_generic</a></span><span class="op">(</span><span class="st">"bar1"</span>, <span class="st">"x"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="method.html">method</a></span><span class="op">(</span><span class="va">bar1</span>, <span class="va">foo1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="fu"><a href="method.html">method</a></span><span class="op">(</span><span class="va">bar1</span>, <span class="va">foo2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fl">2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">bar2</span> <span class="op">&lt;-</span> <span class="fu"><a href="new_generic.html">new_generic</a></span><span class="op">(</span><span class="st">"bar2"</span>, <span class="st">"x"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="method.html">method</a></span><span class="op">(</span><span class="va">bar2</span>, <span class="va">foo1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu">bar1</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="method.html">method</a></span><span class="op">(</span><span class="va">bar2</span>, <span class="va">foo2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fu">bar1</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">obj</span> <span class="op">&lt;-</span> <span class="fu">foo2</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">bar2</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2 2</span>
<span class="r-in"><span><span class="co"># convert() affects every generic:</span></span></span>
<span class="r-in"><span><span class="fu">bar2</span><span class="op">(</span><span class="fu"><a href="convert.html">convert</a></span><span class="op">(</span><span class="va">obj</span>, to <span class="op">=</span> <span class="va">foo1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 1</span>
<span class="r-in"><span><span class="co"># super() only affects the _next_ call to a generic:</span></span></span>
<span class="r-in"><span><span class="fu">bar2</span><span class="op">(</span><span class="fu">super</span><span class="op">(</span><span class="va">obj</span>, to <span class="op">=</span> <span class="va">foo1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Davis Vaughan, Jim Hester, Tomasz Kalinowski, Will Landau, Michael Lawrence, Martin Maechler, Luke Tierney, Hadley Wickham.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

